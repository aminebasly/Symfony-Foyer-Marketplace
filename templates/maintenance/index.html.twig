{% extends 'basedash.html.twig' %}


{% block title %}Index des Maintenances{% endblock %}


{% block body %}
    <div class="container">
        <h1 class="page-title">Liste des Maintenances</h1>

        <div class="table-container">
            <table class="table table-bordered table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th>Id</th>
                        <th>Début</th>
                        <th>Fin</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for maintenance in maintenances %}
                        <tr>
                            <td>{{ maintenance.id }}</td>
                            <td>{{ maintenance.startTime ? maintenance.startTime|date('Y-m-d H:i:s') : '' }}</td>
                            <td>{{ maintenance.endTime ? maintenance.endTime|date('Y-m-d H:i:s') : '' }}</td>
                            <td>
                                <a href="{{ path('app_maintenance_show', {'id': maintenance.id}) }}" class="btn btn-info">Voir</a>
                                <a href="{{ path('app_maintenance_edit', {'id': maintenance.id}) }}" class="btn btn-warning">Modifier</a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="4" class="text-center">Aucune maintenance trouvée</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="text-center">
            <a href="{{ path('app_maintenance_new') }}" class="btn btn-success">Créer une nouvelle maintenance</a>
        </div>
    </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
    <script src="parallax.min.js"></script>
    <script>
        // Initialisation du calendrier
        $(document).ready(function(){
            $("#datepicker").datepicker();
        });

        // Initialisation du parallax
        $('.parallax-window').parallax();
    </script>
{% endblock %}


   






